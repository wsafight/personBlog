# 手摸手教你写分布式锁

分布式锁必要的两个条件：
有竞争
在多台机器上

如果是单机服务，我们可以直接使用当前编程语言或操作系统的锁机制处理即可.

我们要解决这个问题，必须要通过单点服务。如，数据库或者缓存数据库。

如果使用数据库的行锁，就会有连接池问题以及解锁为你。

red-lock

数据库表锁 vs 分布式锁